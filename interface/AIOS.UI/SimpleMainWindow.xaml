<Window x:Class="AIOS.UI.SimpleMainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Title="AIOS - AI Operating System" Height="600" Width="800" Background="#1e1e1e" Foreground="White">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#2d2d2d" Padding="10">
            <TextBlock Text="AIOS - AI Operating System" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center"/>
        </Border>

        <!-- Main Content -->
        <TabControl Grid.Row="1" Margin="10" Background="#2d2d2d">
            <TabItem Header="AI Chat" Background="#2d2d2d">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <ScrollViewer Grid.Row="0" Margin="10">
                        <TextBox x:Name="ChatOutput" IsReadOnly="True" TextWrapping="Wrap" Background="#1e1e1e" Foreground="White" FontFamily="Consolas" Text="AIOS AI Chat Interface Ready..."/>
                    </ScrollViewer>

                    <Grid Grid.Row="1" Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <TextBox x:Name="ChatInput" Grid.Column="0" Margin="0,0,10,0" Background="#2d2d2d" Foreground="White" Padding="5" KeyDown="ChatInput_KeyDown"/>

                        <Button x:Name="SendButton" Grid.Column="1" Content="Send" Background="#0d7377" Foreground="White" Padding="15,5" Click="SendButton_Click"/>
                    </Grid>
                </Grid>
            </TabItem>

            <TabItem Header="System Status" Background="#2d2d2d">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Button x:Name="RefreshStatusButton" Grid.Row="0" Content="Refresh Status" Background="#0d7377" Foreground="White" Padding="10,5" HorizontalAlignment="Right" Click="RefreshStatusButton_Click"/>

                    <ScrollViewer Grid.Row="1" Margin="0,10,0,0">
                        <TextBox x:Name="SystemStatusOutput" IsReadOnly="True" TextWrapping="Wrap" Background="#1e1e1e" Foreground="White" FontFamily="Consolas" Text="System Status Loading..."/>
                    </ScrollViewer>
                </Grid>
            </TabItem>

            <TabItem Header="Maintenance" Background="#2d2d2d">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                        <Button x:Name="RunMaintenanceButton" Content="Run Maintenance" Background="#0d7377" Foreground="White" Padding="10,5" Margin="0,0,10,0" Click="RunMaintenanceButton_Click"/>

                        <Button x:Name="CheckHealthButton" Content="Check Health" Background="#0d7377" Foreground="White" Padding="10,5" Click="CheckHealthButton_Click"/>
                    </StackPanel>

                    <ScrollViewer Grid.Row="1">
                        <TextBox x:Name="MaintenanceOutput" IsReadOnly="True" TextWrapping="Wrap" Background="#1e1e1e" Foreground="White" FontFamily="Consolas" Text="Maintenance interface ready..."/>
                    </ScrollViewer>
                </Grid>
            </TabItem>

            <TabItem Header="Library Generation" Background="#2d2d2d">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Input Section -->
                    <StackPanel Grid.Row="0" Margin="0,0,0,10">
                        <TextBlock Text="Library:" Margin="0,0,0,5" Foreground="White"/>
                        <ComboBox x:Name="LibrarySelector" Background="#2d2d2d" Foreground="White" Padding="5" Margin="0,0,0,10">
                            <ComboBoxItem Content="aios_core" IsSelected="True" Foreground="White" Background="#2d2d2d"/>
                            <ComboBoxItem Content="requests" Foreground="White" Background="#2d2d2d"/>
                            <ComboBoxItem Content="flask" Foreground="White" Background="#2d2d2d"/>
                        </ComboBox>

                        <TextBlock Text="Task Description:" Margin="0,0,0,5"/>
                        <TextBox x:Name="TaskDescription" Background="#2d2d2d" Foreground="White" Padding="5" Margin="0,0,0,10" TextWrapping="Wrap" Height="60" AcceptsReturn="True" Text="Create a TachyonicMemoryBuffer class that stores evolutionary code variants with consciousness-level tracking"/>

                        <TextBlock Text="Number of Variants:" Margin="0,0,0,5"/>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                            <Slider x:Name="VariantCountSlider" Minimum="1" Maximum="10" Value="3" Width="200" TickFrequency="1" IsSnapToTickEnabled="True"/>
                            <TextBlock Text="{Binding ElementName=VariantCountSlider, Path=Value}" Margin="10,0,0,0" VerticalAlignment="Center"/>
                        </StackPanel>
                    </StackPanel>

                    <!-- Control Buttons -->
                    <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,10">
                        <Button x:Name="GenerateButton" Content="ðŸ§¬ Generate Code" Background="#0d7377" Foreground="White" Padding="15,8" Margin="0,0,10,0" Click="GenerateButton_Click" FontSize="14" FontWeight="Bold"/>
                        
                        <TextBlock x:Name="GenerationStatus" Text="Ready" VerticalAlignment="Center" Margin="10,0,0,0" FontStyle="Italic"/>
                    </StackPanel>

                    <!-- Results Section -->
                    <Grid Grid.Row="2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="2*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Variants List -->
                        <Border Grid.Column="0" BorderBrush="#0d7377" BorderThickness="1" Margin="0,0,5,0">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Text="Generated Variants" Background="#0d7377" Padding="5" FontWeight="Bold"/>
                                
                                <ScrollViewer Grid.Row="1">
                                    <StackPanel x:Name="VariantsPanel" Margin="5"/>
                                </ScrollViewer>
                            </Grid>
                        </Border>

                        <!-- Code Preview -->
                        <Border Grid.Column="1" BorderBrush="#0d7377" BorderThickness="1" Margin="5,0,0,0">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Text="Code Preview" Background="#0d7377" Padding="5" FontWeight="Bold"/>
                                
                                <ScrollViewer Grid.Row="1">
                                    <TextBox x:Name="CodePreview" IsReadOnly="True" Background="#1e1e1e" Foreground="White" FontFamily="Consolas" FontSize="10" TextWrapping="Wrap" BorderThickness="0" Padding="5" Text="Select a variant to preview code..."/>
                                </ScrollViewer>
                            </Grid>
                        </Border>
                    </Grid>
                </Grid>
            </TabItem>

            <!-- Phase 11 Day 1: AI Search Tab -->
            <TabItem Header="ðŸ” AI Search" Background="#2d2d2d">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Search Input -->
                    <Border Grid.Row="0" Background="#2d2d2d" CornerRadius="5" Padding="10" Margin="0,0,0,10">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Text="AI-Powered Search" FontSize="16" FontWeight="Bold" Foreground="#FF00D4FF" Margin="0,0,0,10"/>

                            <Grid Grid.Row="1">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <TextBox x:Name="SearchQueryInput" Grid.Column="0" 
                                         Background="#1e1e1e" Foreground="White" 
                                         Padding="10" FontSize="14"
                                         Text="Search for functionality (e.g., 'tool for health monitoring')"/>

                                <Button x:Name="SearchButton" Grid.Column="1" 
                                        Content="Search" 
                                        Background="#0d7377" Foreground="White" 
                                        Padding="20,10" Margin="10,0,0,0"
                                        FontSize="14" FontWeight="Bold"
                                        Click="SearchButton_Click"/>
                            </Grid>
                        </Grid>
                    </Border>

                    <!-- Search Results -->
                    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                        <StackPanel x:Name="SearchResults">
                            <TextBlock Text="Enter a query and click Search to find relevant tools and code." 
                                       FontSize="12" Foreground="#FFAAAAAA" 
                                       Margin="0,20,0,10"/>
                            
                            <TextBlock Text="Example queries:" FontSize="12" FontWeight="Bold" 
                                       Foreground="#FF00D4FF" Margin="0,10,0,5"/>
                            <TextBlock Text="â€¢ 'tool for health monitoring'" FontSize="11" 
                                       Foreground="#FFAAAAAA" Margin="5,2,0,2"/>
                            <TextBlock Text="â€¢ 'database architecture documentation'" FontSize="11" 
                                       Foreground="#FFAAAAAA" Margin="5,2,0,2"/>
                            <TextBlock Text="â€¢ 'consciousness measurement system'" FontSize="11" 
                                       Foreground="#FFAAAAAA" Margin="5,2,0,2"/>
                        </StackPanel>
                    </ScrollViewer>
                </Grid>
            </TabItem>
        </TabControl>

        <!-- Status Bar -->
        <Border Grid.Row="2" Background="#2d2d2d" Padding="10">
            <TextBlock x:Name="StatusText" Text="Ready" FontSize="12"/>
        </Border>
    </Grid>
</Window>
